(this["webpackJsonpredux-test"]=this["webpackJsonpredux-test"]||[]).push([[0],{37:function(e,t,n){e.exports=n(54)},42:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),i=n.n(o),c=(n(42),n(17)),l=n(11),s=n(9),u=n(2),d=n(29),m=n.n(d),v=n(30),p=n(23),f=n(31),g=n(15);function b(){return{type:"TOGGLE_MESSAGE"}}var E={messageVisibility:!1},h=n(18),O=n.n(h),w=n(24),y=function(){return function(){var e=Object(w.a)(O.a.mark((function e(t){var n,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.themoviedb.org/3/discover/movie?api_key=".concat("bafe54d36e810df4c8aa8d37f7b67fe5","&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1"),e.next=3,fetch(n);case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",t({type:"GET_MOVIES",data:r.results}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(w.a)(O.a.mark((function t(n){var a,r,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("api call getMovie"),a="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat("bafe54d36e810df4c8aa8d37f7b67fe5","&language=en-US"),t.next=4,fetch(a);case 4:return r=t.sent,t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",n({type:"GET_MOVIE",data:o}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(){return{type:"RESET_MOVIE"}},M={movies:[],moviesLoaded:!1,moviesLoadedAt:null,movie:{},movieLoaded:!1},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.data;switch(n){case"GET_MOVIES":return Object(g.a)({},e,{movies:a,moviesLoaded:!0,moviesLoadedAt:new Date});case"GET_MOVIE":return Object(g.a)({},e,{movie:a,movieLoaded:!0});case"RESET_MOVIE":return Object(g.a)({},e,{movie:{},movieLoaded:!1});default:return e}},L=Object(u.combineReducers)({toggle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case"TOGGLE_MESSAGE":return Object(g.a)({},e,{messageVisibility:!e.messageVisibility});default:return e}},movies:k,movie:k}),_=Object(s.b)((function(e){return{messageVisibility:e.toggle.messageVisibility}}),(function(e){return Object(u.bindActionCreators)({toggleMessage:b},e)}))((function(e){var t=e.messageVisibility,n=e.toggleMessage;return r.a.createElement("div",null,t&&r.a.createElement("p",null,"redux action toggled"),r.a.createElement("button",{onClick:n},"Toggle Me"))})),A=n(12),V=n(13),S=n(19),G=n.n(S);function T(){var e=Object(A.a)(["\n  box-shadow: 0 0 35px black;\n"]);return T=function(){return e},e}var D=function(e){var t=e.movie;return r.a.createElement(c.b,{to:"/".concat(t.id)},r.a.createElement(G.a,{id:"".concat(t.id)},r.a.createElement(I,{src:"".concat("http://image.tmdb.org/t/p/w154").concat(t.poster_path),alt:t.title})))},I=V.a.img(T());function C(){var e=Object(A.a)(["\n\tdisplay: grid;\n\tpadding: 1rem;\n\tgrid-template-columns: repeat(6, 1fr);\n\tgrid-row-gap: 1rem;\n"]);return C=function(){return e},e}var B=Object(s.b)((function(e){return{movies:e.movies.movies,isLoaded:e.movies.moviesLoaded,moviesLoadedAt:e.movies.moviesLoadedAt}}),(function(e){return Object(u.bindActionCreators)({getMovies:y},e)}))((function(e){var t=e.movies,n=e.getMovies,a=e.isLoaded,o=e.moviesLoadedAt;return r.a.useEffect((function(){console.log(new Date-new Date(o)),(!a||new Date-new Date(o)>36e5)&&(console.log("getMovies"),n())}),[n,a,o]),r.a.createElement(N,null,t&&t.map((function(e){return r.a.createElement(D,{key:e.id,movie:e})})))})),N=V.a.div(C());function R(){var e=Object(A.a)(["\n\tbackground: white;\n\ttext-align: left;\n\tpadding: 2rem 10%;\n\tdisplay: flex;\n\t> div {\n\t\tmargin-left: 20px;\n\t}\n\timg {\n\t\tposition: relative;\n\t\ttop: -5rem;\n\t}\n"]);return R=function(){return e},e}function W(){var e=Object(A.a)(["\n\tposition: relative;\n\tpadding-top: 50vh;\n\tbackground: url(",") no-repeat;\n\tbackground-size: cover;\n"]);return W=function(){return e},e}var H=Object(s.b)((function(e){return{movie:e.movies.movie,isLoaded:e.movie.movieLoaded}}),(function(e){return Object(u.bindActionCreators)({getMovie:j,resetMovie:x},e)}))((function(e){var t=e.movie,n=e.match,a=e.getMovie,o=e.resetMovie,i=e.movieLoaded;return r.a.useEffect((function(){a(n.params.id)}),[a,n.params.id]),r.a.useEffect((function(){i||o()}),[o,i]),r.a.createElement(J,{backdrop:"".concat("http://image.tmdb.org/t/p/w1280").concat(t.backdrop_path)},r.a.createElement(U,null,r.a.createElement(G.a,{id:"".concat(t.id)},r.a.createElement(I,{src:"".concat("http://image.tmdb.org/t/p/w154").concat(t.poster_path),alt:t.title})),r.a.createElement("div",null,t.title?r.a.createElement("h1",null,"Hello"):r.a.createElement("h1",null,"Hi"),r.a.createElement("h1",null,t.title),r.a.createElement("h3",null,t.release_date),r.a.createElement("p",null,t.overview))))})),J=V.a.div(W(),(function(e){return e.backdrop})),U=V.a.div(R()),z=(n(53),[m.a,v.a]),$=Object(u.createStore)(L,Object(p.load)(),Object(f.composeWithDevTools)(u.applyMiddleware.apply(void 0,z.concat([Object(p.save)()])))),q=function(){return r.a.createElement(s.a,{store:$},r.a.createElement(c.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(c.b,{to:"/"},r.a.createElement("h1",{className:"App-logo"},r.a.createElement("span",{role:"img","aria-label":"xxx"},"\ud83c\udf1f"),"Mike's Movie Data Base",r.a.createElement("span",{role:"img","aria-label":"xxx"},"\ud83c\udf1f")))),r.a.createElement(_,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:B}),r.a.createElement(l.a,{path:"/:id",component:H})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.3ef0823a.chunk.js.map